# Database connection string
DATABASE_URL=postgres://username:password@host:port/database

# Test Database URL (for running tests with local PostgreSQL container)
TEST_DATABASE_URL=postgres://postgres:testpassword@localhost:5433/cartel_test

# Server port (default: 3003)
PORT=3003

# Root API key (optional)
# This key bypasses database authentication and has full access
# Use for system administration and emergency access only
# API_KEY=your-root-api-key-here

# JWT Secret for authentication (required for SIWE auth)
# Must be at least 32 characters long
JWT_SECRET=change-this-to-a-random-string-minimum-32-characters-long

# Allowed Origins for CORS (comma-separated)
# These domains can make authenticated requests with cookies
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://cartel.sh,https://www.cartel.sh

# Environment (optional, defaults to development)
NODE_ENV=development

# Logging Configuration
# Set verbosity level for application logs
# Values: SILENT, ERROR, WARN, INFO, DEBUG (or numeric 0-4)
# SILENT (0) = No logs
# ERROR (1)  = Only errors
# WARN (2)   = Warnings and errors
# INFO (3)   = Info, warnings, and errors (default)
# DEBUG (4)  = All logs including debug information
# Note: Pretty formatting is always enabled for better readability
LOG_VERBOSITY=DEBUG

# Database Logging Configuration
# Enable database logging for INFO+ levels (true/false)
# If not set, defaults to true in production, false in development
LOG_DB_ENABLED=true

# Number of log entries to batch before writing to database
# Higher values improve performance but use more memory
# Default: 50
LOG_DB_BATCH_SIZE=50

# How often to flush log entries to database (milliseconds)
# Default: 5000 (5 seconds)
LOG_DB_FLUSH_INTERVAL=5000

# Maximum number of retry attempts for failed database writes
# Default: 3
LOG_DB_MAX_RETRIES=3

# Delay between retry attempts (milliseconds)
# Default: 10000 (10 seconds)
LOG_DB_RETRY_DELAY=10000
